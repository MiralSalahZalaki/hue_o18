<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- list View -->
    <record id="view_acc_student_montly_grades_list" model="ir.ui.view">
        <field name="name">acc.student.monthly.grades.list</field>
        <field name="model">acc.student.monthly.grades</field>
        <field name="arch" type="xml">
            <list create="0" delete="0" edit="0" string="Student Assesment Time Grades">
                <field name="name"/>
                <field name="student_id"/>
                <field name="grade_id"/>
                <field name="class_id"/>
                <field name="assesment_time"/>
                <field name="academic_year_id"/>
                <field name="company_id" groups="base.group_multi_company"/>
            </list>
        </field>
    </record>
    <!-- Form View -->
    <record id="view_acc_student_montly_grades_form" model="ir.ui.view">
        <field name="name">acc.student.monthly.grades.form</field>
        <field name="model">acc.student.monthly.grades</field>
        <field name="arch" type="xml">
            <form string="Student Assesment Time Grades">
                <sheet>
                    <group>
                        <group>
                            <field name="student_id" readonly="1"/>
                            <field name="grade_id" readonly="1"/>
                            <field name="class_id" readonly="1"/>
                            <field name="absence_days" readonly="1"/>
                        </group>
                        <group>
                            <field name="academic_year_id" />
                            <field name="assesment_time" readonly="1"/>
                            <field name="company_id" readonly="1" groups="base.group_multi_company"/>
                            <field name="total" readonly="1"/>
                            <field name="time_total" readonly="1"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="Subjects">
                            <field name="subject_line_ids" class="w-100" widget="subject_lines_widget"/>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>
    <!-- Search View -->
    <record id="view_acc_student_montly_grades_search" model="ir.ui.view">
        <field name="name">acc.student.monthly.grades.search</field>
        <field name="model">acc.student.monthly.grades</field>
        <field name="arch" type="xml">
            <search string="Student Assesment Time Grades">
                <field name="student_id"/>
                <field name="grade_id"/>
                <field name="class_id"/>
                <field name="assesment_time"/>
                <field name="company_id" groups="base.group_multi_company"/>
                <group expand="0" string="Group By">
                    <filter name="group_by_student" string="Student"
                            context="{'group_by': 'student_id'}"/>
                    <filter name="group_by_grade" string="Grade"
                            context="{'group_by': 'grade_id'}"/>
                    <filter name="group_by_class" string="Class"
                            context="{'group_by': 'class_id'}"/>
                    <filter name="group_by_assesment_time" string="Assesment Time"
                            context="{'group_by': 'assesment_time'}"/>
                    <filter name="group_by_company" string="School"
                            context="{'group_by': 'company_id'}" groups="base.group_multi_company"/>
                </group>
            </search>
        </field>
    </record>
    <!-- ========== ACTIONS ========== -->
    <!-- Main Student Assesment time Grades Action -->
    <record id="action_acc_student_assesment_time" model="ir.actions.act_window">
        <field name="name">Accumulative Student Assesment time</field>
        <field name="res_model">acc.student.monthly.grades</field>
        <field name="view_mode">list,form</field>
        <field name="view_id" ref="view_acc_student_montly_grades_list"/>
        <field name="search_view_id" ref="view_acc_student_montly_grades_search"/>
        <field name="domain">[('company_id', 'in', allowed_company_ids)]</field>
        <field name="context">{}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create Student Assesment Time Grades
            </p>
            <p>
                Click to create a new student Assesment Time grades record.
            </p>
        </field>
    </record>
    <!-- Main Menu -->
    <menuitem id="menu_acc_student_assesment_time"
          name="Student Assesment Time Results"
          parent="menu_results_config"
          sequence="2"
          action="action_acc_student_assesment_time"/>
</odoo>